{
    "name": "gora-dao-staking",
    "desc": "Gora DAO staking smart contract",
    "networks": {
        "MainNet": {
            "appID": 0
        },
        "TestNet": {
            "appID": 0
        }
    },
    "methods": [
        {
            "name": "create_staking",
            "description": "Creates a new Staking contract! Returns the Staking contract ID!",
            "args": [
                {
                    "type": "application",
                    "name": "main_app_id",
                    "description": "DAO Main App (DAO) ID"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "DAO Main asset (DAO) ID"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "Staking asset ID"
                },
                {
                    "type": "account",
                    "name": "manager_reference",
                    "description": "DAO member account reference (Staking manager)"
                },
                {
                    "type": "account",
                    "name": "dao_manager_reference",
                    "description": "DAO manager account reference (DAO Manager)"
                },
                {
                    "type": "string",
                    "name": "staking_name",
                    "description": "Staking title"
                },
                {
                    "type": "string",
                    "name": "staking_description",
                    "description": "Staking description"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref for Staking manager DAO member"
                },
                {
                    "name": "staking_app",
                    "description": "Dynamic box ref for staking approval prog source code"
                },
                {
                    "name": "staking_clr",
                    "description": "Dynamic box ref for staking clear prog source code"
                }
            ],
            "returns": {
                "type": "address"
            }
        },
        {
            "name": "update_staking",
            "description": "Updates an existing Staking contract! Returns the Staking contract ID!",
            "args": [
                {
                    "type": "application",
                    "name": "main_app_id",
                    "description": "DAO Main App ID"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "DAO Main asset ID"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "Staking asset ID"
                },
                {
                    "type": "account",
                    "name": "manager_reference",
                    "description": "DAO member account reference (Staking manager)"
                },
                {
                    "type": "account",
                    "name": "dao_manager_reference",
                    "description": "DAO manager account reference (DAO manager)"
                },
                {
                    "type": "string",
                    "name": "staking_name",
                    "description": "Staking title"
                },
                {
                    "type": "string",
                    "name": "staking_description",
                    "description": "Staking description"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref for Staking manager DAO member"
                },
                {
                    "name": "staking_app",
                    "description": "Dynamic box ref for staking approval prog source code"
                },
                {
                    "name": "staking_clr",
                    "description": "Dynamic box ref for staking clear prog source code"
                }
            ],
            "returns": {
                "type": "address"
            }
        },
        {
            "name": "config_staking",
            "description": "Configures a Staking contract! Returns the Staking contract ID!",
            "args": [
                {
                    "type": "pay",
                    "name": "payment_transaction",
                    "description": "Payment from Staking manager to DAO for fees and Staking configuration MBRs!"
                },
                {
                    "type": "(uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64,uint64)",
                    "name": "staking_config_params",
                    "description": "staking_min_participation_algo, staking_min_participation_token, staking_duration, staking_min_duration, staking_commission_percentage, staking_commission_percentage_algo, staking_participation_fee, staking_participation_fee_algo, staking_incentives_percentage, staking_type, staking_incentives_duration, staking_incentives_eligibility"
                },
                {
                    "type": "string",
                    "name": "staking_name",
                    "description": "DAO Staking name"
                },
                {
                    "type": "string",
                    "name": "staking_description",
                    "description": "DAO Staking description"
                },
                {
                    "type": "string",
                    "name": "staking_website",
                    "description": "DAO Staking website"
                },
                {
                    "type": "string",
                    "name": "staking_banner",
                    "description": "DAO Staking banner image URL"
                },
                {
                    "type": "string",
                    "name": "staking_proxy_app_id",
                    "description": "DAO Staking app ID"
                },
                {
                    "type": "address",
                    "name": "staking_proxy_app_address",
                    "description": "DAO Staking app address"
                },
                {
                    "type": "address",
                    "name": "staking_proxy_app_creator",
                    "description": "DAO Staking app creator address"
                },
                {
                    "type": "address",
                    "name": "staking_proxy_app_manager",
                    "description": "DAO Staking app manager address"
                },
                {
                    "type": "string",
                    "name": "staking_proxy_app_created_at",
                    "description": "DAO Staking app creation timestamp"
                },
                {
                    "type": "string",
                    "name": "staking_proxy_app_updated_at",
                    "description": "DAO Staking app update timestamp"
                },
                {
                    "type": "uint64",
                    "name": "staking_proxy_app_is_whitelisted",
                    "description": "DAO Staking app whitelist status"
                },
                {
                    "type": "uint64",
                    "name": "staking_proxy_app_is_pending",
                    "description": "DAO Staking app pending status"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref for staking manager account"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "update_manager_address",
            "description": "Updates Staking manager address! Should be sent by either owner (creator) or current manager! Returns new manager address",
            "args": [
                {
                    "type": "pay",
                    "name": "payment_transaction",
                    "description": "Payment from Staking manager to DAO for fees!"
                },
                {
                    "type": "application",
                    "name": "main_app_id",
                    "description": "DAO Main application ID"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "DAO Main asset ID"
                },
                {
                    "type": "account",
                    "name": "manager_reference",
                    "description": "DAO Staking new manager account reference"
                }
            ],
            "returns": {
                "type": "string"
            }
        },
        {
            "name": "activate_staking",
            "description": "Activates a Staking! Returns the Staking contract ID!",
            "args": [
                {
                    "type": "pay",
                    "name": "payment_transaction",
                    "description": "Payment from Staking manager to DAO for fees and Staking activation MBRs!"
                },
                {
                    "type": "uint64",
                    "name": "asset_reference",
                    "description": "DAO Main asset ID"
                },
                {
                    "type": "account",
                    "name": "manager_reference",
                    "description": "DAO manager account reference"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref per manager account address"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "staking_participate",
            "description": "Participates with a member account into a Staking! Returns the participating member's account address!",
            "args": [
                {
                    "type": "pay",
                    "name": "fee_payment_transaction",
                    "description": "Payment from Staking participant to DAO for fees!"
                },
                {
                    "type": "axfer",
                    "name": "fee_axfer_transaction",
                    "description": "Axfer from Staking participant to DAO in DAO token for fees!"
                },
                {
                    "type": "pay",
                    "name": "stake_payment_transaction",
                    "description": "Payment from Staking participant to DAO for  Staking participation MBRs!"
                },
                {
                    "type": "axfer",
                    "name": "stake_axfer_transaction",
                    "description": "Axfer from Staking participant to Staking contract for Staking participation!"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref per member account address"
                },
                {
                    "name": "staking_account",
                    "description": "Dynamic box per staking account (as key) and staking amount (as value)"
                },
                {
                    "name": "staking_account_timestamp",
                    "description": "Dynamic box per staking account (as key) and staking update timestamp(as value)"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "staking_withdraw_participate",
            "description": "Withdraws participation of a member account from Staking! Returns the withdrawing member's account address!",
            "args": [],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref per member account address"
                },
                {
                    "name": "staking_account",
                    "description": "Dynamic box per staking account (as key) and staking amount (as value)"
                },
                {
                    "name": "staking_account_timestamp",
                    "description": "Dynamic box per staking account (as key) and staking update timestamp(as value)"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "staking_stake",
            "description": "Stakes in Staking contract! Returns the staking member's account address concatenated with staked amount!",
            "args": [
                {
                    "type": "pay",
                    "name": "stake_transaction",
                    "description": "Pay transaction to send staked Algos!"
                },
                {
                    "type": "axfer",
                    "name": "stake_axfer_transaction",
                    "description": "Axfer from Staking participant for staking token!"
                },
                {
                    "type": "uint64",
                    "name": "amount_algo",
                    "description": "Amount to be staked"
                },
                {
                    "type": "uint64",
                    "name": "amount_token",
                    "description": "Token Amount to be staked"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref per member account address"
                },
                {
                    "name": "staking_account",
                    "description": "Dynamic box per staking account (as key) and staking amount (as value)"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "staking_unstake",
            "description": "Un-stakes from Staking contract! Returns the staking member's account address concatenated with un-staked amount!",
            "args": [
                {
                    "type": "uint64",
                    "name": "amount_algo",
                    "description": "Amount to be un-staked"
                },
                {
                    "type": "uint64",
                    "name": "amount_token",
                    "description": "Token Amount to be un-staked"
                }
            ],
            "boxes": [
                {
                    "name": "manager_reference",
                    "description": "Dynamic box ref per member account address"
                },
                {
                    "name": "staking_account",
                    "description": "Dynamic box per staking account (as key) and staking amount (as value)"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        }
    ]
}